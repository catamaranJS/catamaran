"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),_ces=require("ces"),CES=_interopRequireWildcard(_ces),_utilsUtils=require("./utils/utils"),_entities=require("./entities"),entities=_interopRequireWildcard(_entities),_systems=require("./systems"),systems=_interopRequireWildcard(_systems),_xhrRequest=require("../xhr/Request"),_libBabylon=require("./lib/babylon"),BABYLON=_interopRequireWildcard(_libBabylon),lsd=function(){function lsd(){var e=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0];_classCallCheck(this,lsd),this._defaults=_utilsUtils.utils.defaultArgs(),this._defaultsScene_two=_utilsUtils.utils.defaultArgs(),this._defaultsScene_two._appendEL=this._defaults._appendEL=e,this._data=null,this._currentScene,this._e_scene=new entities.e_scene(this._defaults),this._e_scene_two=new entities.e_scene(this._defaultsScene_two),this._e_cameravr=null,this._scenes=[],this._activeScene=0,this.camera=null,this.world=new CES.World,this.world.addEntity(this._e_scene.entity),this.world.addEntity(this._e_scene_two.entity),this.canvas,this._assets=[],Promise.all([document.querySelector("canvas")]).then(this.init.apply(this))}return _createClass(lsd,[{key:"init",value:function(){this.canvas=document.querySelector("canvas"),this.defaults=new _xhrRequest.Request("/assets/scene/scene.json",this.dataLoaded.bind(this))}},{key:"dataLoaded",value:function(){this._data=this.defaults.data,this.canvas.addEventListener("canvas_init",function(e){this.jsonAssets=this._data.assets,this._currentScene=this._defaults._scene=this._e_scene.scene.scene,this._scenes.push(this._currentScene),this._currentAltScene=this._e_scene_two.scene.scene,this._scenes.push(this._currentAltScene),_utilsUtils.utils.assetsLoad.apply(this)}.bind(this),!1)}},{key:"initListners",value:function(){window.addEventListener("resize",function(){this.canvas.heigth=window.innerHeight,this.canvas.width=window.innerWidth,this._currentScene.getEngine().resize()}.bind(this))}},{key:"loopJsonArr",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"entities":arguments[1];switch(t){case"entities":for(var s=0;s<this._data.entities.length;s++)e(s);break;case"systems":for(var s=0;s<this._data.systems.length;s++)e(s);break;default:for(var s=0;s<this._data.entities.length;s++)e(s)}}},{key:"setDefaultsAndMaterials",value:function setDefaultsAndMaterials(i){this._data.entities[i].defaults._scene=this._currentScene,this._data.entities[i].defaults._canvas=this.canvas;try{this._data.entities[i].defaults=_utilsUtils.utils.merge_objects(eval("entities."+this._data.entities[i].defaults.e_type+".defaults()"),this._data.entities[i].defaults)}catch(e){console.log(e+" - error loading entity no defaults set")}}},{key:"setVectorsAndOtherDefaults",value:function setVectorsAndOtherDefaults(i){void 0!=typeof this._data.entities[i].defaults._material&&(this._data.entities[i].defaults._material=_utilsUtils.utils.getMaterials(this._data.materials,this._data.entities[i].defaults._material)),void 0!=typeof this._data.entities[i].defaults._position&&(this._data.entities[i].defaults._position=_utilsUtils.utils.getVector(this._data.entities[i].defaults._position)),void 0!=typeof this._data.entities[i].defaults._rotation&&(this._data.entities[i].defaults._rotation=_utilsUtils.utils.getVector(this._data.entities[i].defaults._rotation,"rotation"));try{var ent=eval("new entities."+this._data.entities[i].defaults.e_type+"(this._data.entities[i].defaults)");this.world.addEntity(ent.entity)}catch(e){console.log(e+" - error loading entity")}}},{key:"setSystems",value:function setSystems(i){try{this._data.systems[i].defaults._canvas=this.canvas,this._data.systems[i].defaults._scene=this._currentScene,this.world.addSystem(eval("new systems."+this._data.systems[i].defaults.s_type+"(this._data.systems[i].defaults)"))}catch(e){console.log(e+" - error loading system")}}},{key:"assetLoadingFinished",value:function(){this.loopJsonArr(this.setDefaultsAndMaterials.bind(this)),this.loopJsonArr(this.setVectorsAndOtherDefaults.bind(this)),this.loopJsonArr(this.setSystems.bind(this),"systems"),this.initSceneAnimation(),this.initListners()}},{key:"swapScene",value:function(){var e=this._scenes[this._activeScene].activeCameras,t=this._scenes[this._activeScene];this._activeScene=0==this._activeScene?1:0,this._scenes[this._activeScene].activeCameras=e,this._scenes[this._activeScene].lights=t.lights;for(var s=0;s<this._scenes[this._activeScene].activeCameras.length;s++)this._scenes[this._activeScene].activeCameras[s]._scene=this._scenes[this._activeScene]}},{key:"sceneDemo",value:function(){var e=BABYLON.Mesh.CreateSphere("sphereTest",16,2,this._scenes[this._activeScene]);e.position.y=1,e.layerMask=268435455}},{key:"initSceneAnimation",value:function(){this.tick=.01,window.scene=this._scenes[this._activeScene],this.world._currentScene=this._currentScene,this.world._multiuserInit=!0,this._defaults._scene.collisionsEnabled=!0;for(var e=0;e<this._defaults._scene.cameras.length;e++)this._defaults._scene.cameras[e].checkCollisions=!0;this._scenes[0].renderLoop=function(){this._currentScene.activeCamera&&this.world._multiuserInit&&this._currentScene.render()}.bind(this),this._scenes[1].renderLoop=function(){this._currentAltScene.render()}.bind(this),this._scenes[this._activeScene].getEngine().runRenderLoop(function(){this.tick+=.01,window.tick=this.tick,this.world.update(this.tick),this._scenes[this._activeScene].renderLoop()}.bind(this))}},{key:"initSound",value:function(){console.log(window._sharedData),null!=window._sharedData.Sound&&(this._BabylonSound=new BABYLON.Sound(window._sharedData.Sound.sID,window._sharedData.trackURL))}}]),lsd}();exports.lsd=lsd;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvbHNkL2luZGV4LmpzIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwib2JqIiwiX19lc01vZHVsZSIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NlcyIsInJlcXVpcmUiLCJDRVMiLCJfdXRpbHNVdGlscyIsIl9lbnRpdGllcyIsImVudGl0aWVzIiwiX3N5c3RlbXMiLCJzeXN0ZW1zIiwiX3hoclJlcXVlc3QiLCJfbGliQmFieWxvbiIsIkJBQllMT04iLCJsc2QiLCJfYXBwZW5kRWwiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJkb2N1bWVudCIsImJvZHkiLCJ0aGlzIiwiX2RlZmF1bHRzIiwidXRpbHMiLCJkZWZhdWx0QXJncyIsIl9kZWZhdWx0c1NjZW5lX3R3byIsIl9hcHBlbmRFTCIsIl9kYXRhIiwiX2N1cnJlbnRTY2VuZSIsIl9lX3NjZW5lIiwiZV9zY2VuZSIsIl9lX3NjZW5lX3R3byIsIl9lX2NhbWVyYXZyIiwiX3NjZW5lcyIsIl9hY3RpdmVTY2VuZSIsImNhbWVyYSIsIndvcmxkIiwiV29ybGQiLCJhZGRFbnRpdHkiLCJlbnRpdHkiLCJjYW52YXMiLCJfYXNzZXRzIiwiUHJvbWlzZSIsImFsbCIsInF1ZXJ5U2VsZWN0b3IiLCJ0aGVuIiwiaW5pdCIsImFwcGx5IiwiZGVmYXVsdHMiLCJSZXF1ZXN0IiwiZGF0YUxvYWRlZCIsImJpbmQiLCJkYXRhIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJqc29uQXNzZXRzIiwiYXNzZXRzIiwiX3NjZW5lIiwic2NlbmUiLCJwdXNoIiwiX2N1cnJlbnRBbHRTY2VuZSIsImFzc2V0c0xvYWQiLCJ3aW5kb3ciLCJoZWlndGgiLCJpbm5lckhlaWdodCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImdldEVuZ2luZSIsInJlc2l6ZSIsIl9mdW5jdGlvbkNhbGwiLCJfdHlwZSIsInNldERlZmF1bHRzQW5kTWF0ZXJpYWxzIiwiX2NhbnZhcyIsIm1lcmdlX29iamVjdHMiLCJldmFsIiwiZV90eXBlIiwiY29uc29sZSIsImxvZyIsInNldFZlY3RvcnNBbmRPdGhlckRlZmF1bHRzIiwiX21hdGVyaWFsIiwiZ2V0TWF0ZXJpYWxzIiwibWF0ZXJpYWxzIiwiX3Bvc2l0aW9uIiwiZ2V0VmVjdG9yIiwiX3JvdGF0aW9uIiwiZW50Iiwic2V0U3lzdGVtcyIsImFkZFN5c3RlbSIsInNfdHlwZSIsImxvb3BKc29uQXJyIiwiaW5pdFNjZW5lQW5pbWF0aW9uIiwiaW5pdExpc3RuZXJzIiwiY2FtU3dhcCIsImFjdGl2ZUNhbWVyYXMiLCJwcmV2U2NlbmUiLCJsaWdodHMiLCJzcGhlcmUiLCJNZXNoIiwiQ3JlYXRlU3BoZXJlIiwicG9zaXRpb24iLCJ5IiwibGF5ZXJNYXNrIiwidGljayIsIl9tdWx0aXVzZXJJbml0IiwiY29sbGlzaW9uc0VuYWJsZWQiLCJjYW1lcmFzIiwiY2hlY2tDb2xsaXNpb25zIiwicmVuZGVyTG9vcCIsImFjdGl2ZUNhbWVyYSIsInJlbmRlciIsInJ1blJlbmRlckxvb3AiLCJ1cGRhdGUiLCJfc2hhcmVkRGF0YSIsIlNvdW5kIiwiX0JhYnlsb25Tb3VuZCIsInNJRCIsInRyYWNrVVJMIl0sIm1hcHBpbmdzIjoiQUFBQSxZQVFBLFNBQVNBLHlCQUF3QkMsR0FBTyxHQUFJQSxHQUFPQSxFQUFJQyxXQUFjLE1BQU9ELEVBQWMsSUFBSUUsS0FBYSxJQUFXLE1BQVBGLEVBQWUsSUFBSyxHQUFJRyxLQUFP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QUFpQixFQUMzQmxGLEtBQUtDLFVBQVVtQyxPQUFPK0MsbUJBQW9CLENBQzFDLEtBQUksR0FBSTVHLEdBQUksRUFBR0EsRUFBSXlCLEtBQUtDLFVBQVVtQyxPQUFPZ0QsUUFBUTVHLE9BQVFELElBQ25EeUIsS0FBS0MsVUFBVW1DLE9BQU9nRCxRQUFRN0csR0FBRzhHLGlCQUFrQixDQUV6RHJGLE1BQUtZLFFBQVEsR0FBRzBFLFdBQWEsV0FDeEJ0RixLQUFLTyxjQUFjZ0YsY0FBZ0J2RixLQUFLZSxNQUFNbUUsZ0JBQy9DbEYsS0FBS08sY0FBY2lGLFVBRXJCMUQsS0FBSzlCLE1BR1BBLEtBQUtZLFFBQVEsR0FBRzBFLFdBQWEsV0FDekJ0RixLQUFLdUMsaUJBQWlCaUQsVUFDeEIxRCxLQUFLOUIsTUFHUkEsS0FBS1ksUUFBUVosS0FBS2EsY0FBY2lDLFlBQVkyQyxjQUFjLFdBQ3pEekYsS0FBS2lGLE1BQVEsSUFDYnhDLE9BQU93QyxLQUFPakYsS0FBS2lGLEtBQ25CakYsS0FBS2UsTUFBTTJFLE9BQU8xRixLQUFLaUYsTUFDdkJqRixLQUFLWSxRQUFRWixLQUFLYSxjQUFjeUUsY0FDL0J4RCxLQUFLOUIsVUEyQ0p6QyxJQUFLLFlBQ0xXLE1BbkNLLFdBQ1JxRixRQUFRQyxJQUFJZixPQUFPa0QsYUFDWSxNQUE1QmxELE9BQU9rRCxZQUFZQyxRQUNyQjVGLEtBQUs2RixjQUFnQixHQUFJcEcsU0FBUW1HLE1BQU1uRCxPQUFPa0QsWUFBWUMsTUFBTUUsSUFBS3JELE9BQU9rRCxZQUFZSSxlQTlLOUVyRyxNQXlOZHpCLFNBQVF5QixJQUFNQSIsImZpbGUiOiJjb3JlL2xzZC9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIENFUyBmcm9tICdjZXMnO1xuaW1wb3J0IHt1dGlsc30gZnJvbSAnLi91dGlscy91dGlscyc7XG5pbXBvcnQgKiBhcyBlbnRpdGllcyBmcm9tICcuL2VudGl0aWVzJztcbmltcG9ydCAqIGFzIHN5c3RlbXMgZnJvbSAnLi9zeXN0ZW1zJztcbmltcG9ydCB7IFJlcXVlc3QgfSBmcm9tICcuLi94aHIvUmVxdWVzdCc7XG5pbXBvcnQgKiBhcyBCQUJZTE9OIGZyb20gJy4vbGliL2JhYnlsb24nO1xuXG4vKipcbiAqIC4uLlxuICogQGF1dGhvciBCcmVuZG9uIFNtaXRoXG4gKiBodHRwOi8vc2VhY2xvdWQ5Lm9yZ1xuICogTGlnaHRXZWlnaHQgM0QgU3lzdGVtIERlc2lnbiBlbmdpbmVcbiAqL1xuIGV4cG9ydCBjbGFzcyBsc2R7XG4gXHRjb25zdHJ1Y3RvcihfYXBwZW5kRWwgPSBkb2N1bWVudC5ib2R5KXtcbiBcdFx0dGhpcy5fZGVmYXVsdHMgPSB1dGlscy5kZWZhdWx0QXJncygpO1xuICAgIHRoaXMuX2RlZmF1bHRzU2NlbmVfdHdvID0gdXRpbHMuZGVmYXVsdEFyZ3MoKTtcbiBcdFx0dGhpcy5fZGVmYXVsdHNTY2VuZV90d28uX2FwcGVuZEVMID0gdGhpcy5fZGVmYXVsdHMuX2FwcGVuZEVMID0gX2FwcGVuZEVsO1xuIFx0XHR0aGlzLl9kYXRhID0gbnVsbDtcbiBcdFx0dGhpcy5fY3VycmVudFNjZW5lO1xuIFx0XHR0aGlzLl9lX3NjZW5lID0gbmV3IGVudGl0aWVzLmVfc2NlbmUodGhpcy5fZGVmYXVsdHMpO1xuICAgIHRoaXMuX2Vfc2NlbmVfdHdvID0gbmV3IGVudGl0aWVzLmVfc2NlbmUodGhpcy5fZGVmYXVsdHNTY2VuZV90d28pO1xuIFx0XHR0aGlzLl9lX2NhbWVyYXZyID0gbnVsbDtcbiAgICB0aGlzLl9zY2VuZXMgPSBbXTtcbiAgICB0aGlzLl9hY3RpdmVTY2VuZSA9IDA7XG4gXHRcdHRoaXMuY2FtZXJhID0gbnVsbDtcbiBcdFx0dGhpcy53b3JsZCA9IG5ldyBDRVMuV29ybGQoKTtcbiBcdFx0dGhpcy53b3JsZC5hZGRFbnRpdHkodGhpcy5fZV9zY2VuZS5lbnRpdHkpO1xuICAgIHRoaXMud29ybGQuYWRkRW50aXR5KHRoaXMuX2Vfc2NlbmVfdHdvLmVudGl0eSk7XG4gXHRcdHRoaXMuY2FudmFzO1xuIFx0XHR0aGlzLl9hc3NldHMgPSBbXTtcbiBcdFx0UHJvbWlzZS5hbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpXSkudGhlbih0aGlzLmluaXQuYXBwbHkodGhpcykpO1xuIFx0fVxuXG4gXHRpbml0KCl7XG4gXHRcdHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XG4gXHRcdHRoaXMuZGVmYXVsdHMgPSBuZXcgUmVxdWVzdChcIi9hc3NldHMvc2NlbmUvc2NlbmUuanNvblwiLCB0aGlzLmRhdGFMb2FkZWQuYmluZCh0aGlzKSk7XG4gXHR9XG5cbiBcdGRhdGFMb2FkZWQoKXtcbiBcdFx0dGhpcy5fZGF0YSAgPSB0aGlzLmRlZmF1bHRzLmRhdGE7XG4gXHRcdHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnZhc19pbml0JywgZnVuY3Rpb24gKGUpIHtcbiBcdFx0XHR0aGlzLmpzb25Bc3NldHMgPSB0aGlzLl9kYXRhLmFzc2V0cztcbiBcdFx0XHR0aGlzLl9jdXJyZW50U2NlbmUgPSB0aGlzLl9kZWZhdWx0cy5fc2NlbmUgPSB0aGlzLl9lX3NjZW5lLnNjZW5lLnNjZW5lO1xuICAgICAgdGhpcy5fc2NlbmVzLnB1c2godGhpcy5fY3VycmVudFNjZW5lKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRBbHRTY2VuZSAgPSB0aGlzLl9lX3NjZW5lX3R3by5zY2VuZS5zY2VuZTtcbiAgICAgIHRoaXMuX3NjZW5lcy5wdXNoKHRoaXMuX2N1cnJlbnRBbHRTY2VuZSk7XG4gXHRcdFx0dXRpbHMuYXNzZXRzTG9hZC5hcHBseSh0aGlzKTtcbiBcdFx0fS5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cbiBcdH1cblxuIFx0aW5pdExpc3RuZXJzKCl7XG4gXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uICgpIHtcbiBcdFx0XHR0aGlzLmNhbnZhcy5oZWlndGggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gXHRcdFx0dGhpcy5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcdFxuIFx0XHRcdHRoaXMuX2N1cnJlbnRTY2VuZS5nZXRFbmdpbmUoKS5yZXNpemUoKTtcbiBcdFx0fS5iaW5kKHRoaXMpKTtcbiBcdH1cblxuIFx0bG9vcEpzb25BcnIoX2Z1bmN0aW9uQ2FsbCwgX3R5cGUgPSAnZW50aXRpZXMnKXtcbiBcdFx0c3dpdGNoKF90eXBlKSB7XG5cdFx0ICAgIGNhc2UgJ2VudGl0aWVzJzpcblx0XHQgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9kYXRhLmVudGl0aWVzLmxlbmd0aDsgaSsrKXtcblx0XHQgXHRcdFx0X2Z1bmN0aW9uQ2FsbChpKTtcblx0XHQgXHRcdH1cblx0XHQgICAgICAgIGJyZWFrO1xuXHRcdCAgICBjYXNlICdzeXN0ZW1zJzpcblx0XHQgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGF0YS5zeXN0ZW1zLmxlbmd0aDsgaSsrKXtcblx0XHQgXHRcdFx0X2Z1bmN0aW9uQ2FsbChpKTtcblx0XHQgXHRcdH1cblx0XHQgICAgICAgIGJyZWFrO1x0ICAgICAgICBcdFx0ICAgICAgICBcblx0XHQgICAgZGVmYXVsdDpcblx0XHQgICAgIFx0Zm9yKGxldCBpID0gMDsgaSA8IHRoaXMuX2RhdGEuZW50aXRpZXMubGVuZ3RoOyBpKyspe1xuXHRcdCBcdFx0XHRfZnVuY3Rpb25DYWxsKGkpO1xuXHRcdCBcdFx0fVxuXHRcdFxuXHRcdH1cbiBcdFx0XG4gXHR9XG5cbiBcdHNldERlZmF1bHRzQW5kTWF0ZXJpYWxzKGkpe1xuIFx0XHR0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzLl9zY2VuZSA9IHRoaXMuX2N1cnJlbnRTY2VuZTtcbiBcdFx0dGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cy5fY2FudmFzID0gdGhpcy5jYW52YXM7XG4gXHRcdHRyeXtcbiBcdFx0XHR0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzID0gdXRpbHMubWVyZ2Vfb2JqZWN0cyhldmFsKCdlbnRpdGllcy4nICsgdGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cy5lX3R5cGUrXCIuZGVmYXVsdHMoKVwiKSwgdGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cyk7XG4gXHRcdH1jYXRjaChlKXtcbiBcdFx0XHRjb25zb2xlLmxvZyhlICsgJyAtIGVycm9yIGxvYWRpbmcgZW50aXR5IG5vIGRlZmF1bHRzIHNldCcpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdHNldFZlY3RvcnNBbmRPdGhlckRlZmF1bHRzKGkpe1xuIFx0XHRpZih0eXBlb2YgdGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cy5fbWF0ZXJpYWwgIT0gdW5kZWZpbmVkKXtcbiBcdFx0XHR0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzLl9tYXRlcmlhbCA9IHV0aWxzLmdldE1hdGVyaWFscyh0aGlzLl9kYXRhLm1hdGVyaWFscywgdGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cy5fbWF0ZXJpYWwpO1xuIFx0XHR9XG4gXHRcdGlmKHR5cGVvZiB0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzLl9wb3NpdGlvbiAhPSB1bmRlZmluZWQpe1xuIFx0XHRcdHRoaXMuX2RhdGEuZW50aXRpZXNbaV0uZGVmYXVsdHMuX3Bvc2l0aW9uID0gdXRpbHMuZ2V0VmVjdG9yKHRoaXMuX2RhdGEuZW50aXRpZXNbaV0uZGVmYXVsdHMuX3Bvc2l0aW9uKTtcbiBcdFx0fVxuIFx0XHRpZih0eXBlb2YgdGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cy5fcm90YXRpb24gIT0gdW5kZWZpbmVkKXtcbiBcdFx0XHR0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzLl9yb3RhdGlvbiA9IHV0aWxzLmdldFZlY3Rvcih0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzLl9yb3RhdGlvbiwgJ3JvdGF0aW9uJyk7XG4gXHRcdH1cbiBcdFx0dHJ5e1xuIFx0XHRcdHZhciBlbnQgPSBldmFsKFwibmV3IGVudGl0aWVzLlwiICsgdGhpcy5fZGF0YS5lbnRpdGllc1tpXS5kZWZhdWx0cy5lX3R5cGUgKyBcIih0aGlzLl9kYXRhLmVudGl0aWVzW2ldLmRlZmF1bHRzKVwiKTtcbiBcdFx0XHR0aGlzLndvcmxkLmFkZEVudGl0eShlbnQuZW50aXR5KTtcbiBcdFx0fWNhdGNoKGUpe1xuIFx0XHRcdGNvbnNvbGUubG9nKGUgKyAnIC0gZXJyb3IgbG9hZGluZyBlbnRpdHknKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRzZXRTeXN0ZW1zKGkpe1xuIFx0XHR0cnl7XG4gXHRcdFx0dGhpcy5fZGF0YS5zeXN0ZW1zW2ldLmRlZmF1bHRzLl9jYW52YXMgPSB0aGlzLmNhbnZhcztcbiBcdFx0XHR0aGlzLl9kYXRhLnN5c3RlbXNbaV0uZGVmYXVsdHMuX3NjZW5lID0gdGhpcy5fY3VycmVudFNjZW5lO1xuIFx0XHRcdHRoaXMud29ybGQuYWRkU3lzdGVtKCBldmFsKFwibmV3IHN5c3RlbXMuXCIgKyB0aGlzLl9kYXRhLnN5c3RlbXNbaV0uZGVmYXVsdHMuc190eXBlICsgXCIodGhpcy5fZGF0YS5zeXN0ZW1zW2ldLmRlZmF1bHRzKVwiKSk7XG4gXHRcdH1jYXRjaChlKXtcbiBcdFx0XHRjb25zb2xlLmxvZyhlICsgJyAtIGVycm9yIGxvYWRpbmcgc3lzdGVtJyk7XG4gXHRcdH1cbiBcdH1cblxuXG4gXHRhc3NldExvYWRpbmdGaW5pc2hlZCgpe1xuIFx0XHR0aGlzLmxvb3BKc29uQXJyKHRoaXMuc2V0RGVmYXVsdHNBbmRNYXRlcmlhbHMuYmluZCh0aGlzKSk7XG4gXHRcdHRoaXMubG9vcEpzb25BcnIodGhpcy5zZXRWZWN0b3JzQW5kT3RoZXJEZWZhdWx0cy5iaW5kKHRoaXMpKTtcbiBcdFx0dGhpcy5sb29wSnNvbkFycih0aGlzLnNldFN5c3RlbXMuYmluZCh0aGlzKSwgJ3N5c3RlbXMnKTtcbiBcdFx0dGhpcy5pbml0U2NlbmVBbmltYXRpb24oKTtcbiBcdFx0dGhpcy5pbml0TGlzdG5lcnMoKTtcbiBcdH1cblxuICBzd2FwU2NlbmUoKXtcbiAgICB2YXIgY2FtU3dhcCA9IHRoaXMuX3NjZW5lc1t0aGlzLl9hY3RpdmVTY2VuZV0uYWN0aXZlQ2FtZXJhcztcbiAgICB2YXIgcHJldlNjZW5lID0gdGhpcy5fc2NlbmVzW3RoaXMuX2FjdGl2ZVNjZW5lXTtcbiAgICB0aGlzLl9hY3RpdmVTY2VuZSAgPSB0aGlzLl9hY3RpdmVTY2VuZSA9PSAwID8gMTowO1xuICAgIHRoaXMuX3NjZW5lc1t0aGlzLl9hY3RpdmVTY2VuZV0uYWN0aXZlQ2FtZXJhcyA9IGNhbVN3YXA7XG4gICAgdGhpcy5fc2NlbmVzW3RoaXMuX2FjdGl2ZVNjZW5lXS5saWdodHMgPSBwcmV2U2NlbmUubGlnaHRzO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9zY2VuZXNbdGhpcy5fYWN0aXZlU2NlbmVdLmFjdGl2ZUNhbWVyYXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgIHRoaXMuX3NjZW5lc1t0aGlzLl9hY3RpdmVTY2VuZV0uYWN0aXZlQ2FtZXJhc1tpXS5fc2NlbmUgPSB0aGlzLl9zY2VuZXNbdGhpcy5fYWN0aXZlU2NlbmVdO1xuICAgIH1cblxuICB9XG5cblxuICBzY2VuZURlbW8oKXtcbiAgICB2YXIgc3BoZXJlID0gQkFCWUxPTi5NZXNoLkNyZWF0ZVNwaGVyZShcInNwaGVyZVRlc3RcIiwgMTYsIDIsIHRoaXMuX3NjZW5lc1t0aGlzLl9hY3RpdmVTY2VuZV0pO1xuICAgIHNwaGVyZS5wb3NpdGlvbi55ID0gMTtcbiAgICBzcGhlcmUubGF5ZXJNYXNrID0gMHgwRkZGRkZGRjtcbiAgfVxuXG4gXHRpbml0U2NlbmVBbmltYXRpb24oKXtcbiBcdFx0dGhpcy50aWNrID0gMC4wMTtcbiBcdFx0Ly8gdG9kbyByZW1vdmUgdGhpcyBvbmx5IGZvciBkZWJ1Z2dpbmcgcHVycG9zZXNcbiBcdFx0d2luZG93LnNjZW5lID0gdGhpcy5fc2NlbmVzW3RoaXMuX2FjdGl2ZVNjZW5lXTtcbiBcdFx0dGhpcy53b3JsZC5fY3VycmVudFNjZW5lID0gdGhpcy5fY3VycmVudFNjZW5lO1xuICAgIC8vIHRvZG8gbWVoIGRpc2FibGUgbXVsdGl1c2VyIFxuIFx0XHR0aGlzLndvcmxkLl9tdWx0aXVzZXJJbml0ID0gdHJ1ZTtcbiAgICB0aGlzLl9kZWZhdWx0cy5fc2NlbmUuY29sbGlzaW9uc0VuYWJsZWQgPSB0cnVlO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9kZWZhdWx0cy5fc2NlbmUuY2FtZXJhcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgdGhpcy5fZGVmYXVsdHMuX3NjZW5lLmNhbWVyYXNbaV0uY2hlY2tDb2xsaXNpb25zID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fc2NlbmVzWzBdLnJlbmRlckxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZih0aGlzLl9jdXJyZW50U2NlbmUuYWN0aXZlQ2FtZXJhICYmIHRoaXMud29ybGQuX211bHRpdXNlckluaXQpe1xuICAgICAgICB0aGlzLl9jdXJyZW50U2NlbmUucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgXG4gICAgdGhpcy5fc2NlbmVzWzFdLnJlbmRlckxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRBbHRTY2VuZS5yZW5kZXIoKTtcbiAgICB9LmJpbmQodGhpcyk7XG4gICAgXG5cbiBcdFx0dGhpcy5fc2NlbmVzW3RoaXMuX2FjdGl2ZVNjZW5lXS5nZXRFbmdpbmUoKS5ydW5SZW5kZXJMb29wKGZ1bmN0aW9uICgpIHtcbiBcdFx0XHR0aGlzLnRpY2sgKz0gLjAxO1xuIFx0XHRcdHdpbmRvdy50aWNrID0gdGhpcy50aWNrO1xuIFx0XHRcdHRoaXMud29ybGQudXBkYXRlKHRoaXMudGljayk7XG4gXHRcdFx0dGhpcy5fc2NlbmVzW3RoaXMuX2FjdGl2ZVNjZW5lXS5yZW5kZXJMb29wKCk7XG4gXHRcdH0uYmluZCh0aGlzKSk7XG5cblxuIFx0fVxuXG5cblxuIFx0Ly9iZWxvdyB0aGlzIGlzIGNvZGUgdGhhdCBzaG91bGQgZXZlbnR1YWxseSBiZSBlbGltaW5pYXRlZCBvbmx5IGZvciBoYWNrYXRob24gcHVycG9zZXNcblxuIFx0aW5pdFNvdW5kKCl7XG4gXHRcdGNvbnNvbGUubG9nKHdpbmRvdy5fc2hhcmVkRGF0YSk7XG4gXHRcdGlmKHdpbmRvdy5fc2hhcmVkRGF0YS5Tb3VuZCAhPSBudWxsKXtcbiBcdFx0XHR0aGlzLl9CYWJ5bG9uU291bmQgPSBuZXcgQkFCWUxPTi5Tb3VuZCh3aW5kb3cuX3NoYXJlZERhdGEuU291bmQuc0lELCB3aW5kb3cuX3NoYXJlZERhdGEudHJhY2tVUkwpO1xuIFx0XHR9XG4gXHR9XG5cblxuIH0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=