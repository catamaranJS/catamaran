"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),Animation=function(){function e(){_classCallCheck(this,e),this.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,this.animating=!0,this.interval=1,this.timers=[]}return _createClass(e,[{key:"stop",value:function(){this.animating=!1}},{key:"handleAnimation",value:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(){animating&&(this.requestAnimationFrame(handleAnimation),this.tick())})},{key:"tick",value:function(){this.interval+=1}},{key:"timer",value:function(e){e()&&this.timers.push(e)&&!this.animating&&(this.animating=!0,handleAnimation())}},{key:"linearEase",value:function(e,n,t,a){return t*e/a+n}},{key:"easeInQuad",value:function(e,n,t,a){return t*(e/=a)*e+n}},{key:"easeOutQuad",value:function(e,n,t,a){return-t*(e/=a)*(e-2)+n}},{key:"easeInOutQuad",value:function(e,n,t,a){return(e/=a/2)<1?t/2*e*e+n:-t/2*(--e*(e-2)-1)+n}},{key:"easeInCubic",value:function(e,n,t,a){return t*Math.pow(e/a,3)+n}},{key:"easeOutCubic",value:function(e,n,t,a){return t*(Math.pow(e/a-1,3)+1)+n}},{key:"easeInOutCubic",value:function(e,n,t,a){return(e/=a/2)<1?t/2*Math.pow(e,3)+n:t/2*(Math.pow(e-2,3)+2)+n}},{key:"easeInQuart",value:function(e,n,t,a){return t*Math.pow(e/a,4)+n}},{key:"easeOutQuart",value:function(e,n,t,a){return-t*(Math.pow(e/a-1,4)-1)+n}},{key:"easeInOutQuart",value:function(e,n,t,a){return(e/=a/2)<1?t/2*Math.pow(e,4)+n:-t/2*(Math.pow(e-2,4)-2)+n}},{key:"easeInQuint",value:function(e,n,t,a){return t*Math.pow(e/a,5)+n}},{key:"easeOutQuint",value:function(e,n,t,a){return t*(Math.pow(e/a-1,5)+1)+n}},{key:"easeInOutQuint",value:function(e,n,t,a){return(e/=a/2)<1?t/2*Math.pow(e,5)+n:t/2*(Math.pow(e-2,5)+2)+n}},{key:"easeInSine",value:function(e,n,t,a){return t*(1-Math.cos(e/a*(Math.PI/2)))+n}},{key:"easeOutSine",value:function(e,n,t,a){return t*Math.sin(e/a*(Math.PI/2))+n}},{key:"easeInOutSine",value:function(e,n,t,a){return t/2*(1-Math.cos(Math.PI*e/a))+n}},{key:"easeInExpo",value:function(e,n,t,a){return t*Math.pow(2,10*(e/a-1))+n}},{key:"easeOutExpo",value:function(e,n,t,a){return t*(-Math.pow(2,-10*e/a)+1)+n}},{key:"easeInOutExpo",value:function(e,n,t,a){return(e/=a/2)<1?t/2*Math.pow(2,10*(e-1))+n:t/2*(-Math.pow(2,-10*--e)+2)+n}},{key:"easeInCirc",value:function(e,n,t,a){return t*(1-Math.sqrt(1-(e/=a)*e))+n}},{key:"easeOutCirc",value:function(e,n,t,a){return t*Math.sqrt(1-(e=e/a-1)*e)+n}},{key:"easeInOutCirc",value:function(e,n,t,a){return(e/=a/2)<1?t/2*(1-Math.sqrt(1-e*e))+n:t/2*(Math.sqrt(1-(e-=2)*e)+1)+n}}]),e}();module.exports=Animation;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVpL0FuaW1hdGlvbi5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkFuaW1hdGlvbiIsInRoaXMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3aW5kb3ciLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsImFuaW1hdGluZyIsImludGVydmFsIiwidGltZXJzIiwidmFsdWUiLCJfaGFuZGxlQW5pbWF0aW9uIiwiaGFuZGxlQW5pbWF0aW9uIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0b1N0cmluZyIsInRpY2siLCJfdGltZXIiLCJwdXNoIiwiY3VycmVudEl0ZXJhdGlvbiIsInN0YXJ0VmFsdWUiLCJjaGFuZ2VJblZhbHVlIiwidG90YWxJdGVyYXRpb25zIiwiTWF0aCIsInBvdyIsImNvcyIsIlBJIiwic2luIiwic3FydCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQWlDQSxZQUlBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUZoSCxHQUFJQyxjQUFlLFdBQWUsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxF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ICogVEVSTVMgT0YgVVNFIC0gRUFTSU5HIEVRVUFUSU9OU1xuICogXG4gKiBPcGVuIHNvdXJjZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UuIFxuICogXG4gKiBDb3B5cmlnaHQgw4LCqSAyMDAxIFJvYmVydCBQZW5uZXJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBcbiAqIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IFxuICogb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgXG4gKiBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiBcbiAqIE5laXRoZXIgdGhlIG5hbWUgb2YgdGhlIGF1dGhvciBub3IgdGhlIG5hbWVzIG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIFxuICogb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqIFxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EIEFOWSBcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsXG4gKiBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEVcbiAqIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBcbiAqIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBcbiAqIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4gXG4gKlxuICovXG5cblxuXG5jbGFzcyBBbmltYXRpb24ge1xuICAgLyoqXG4gICAqIFJlcHJlc2VudHMgQW5pbWF0aW9uIGJ1aWxkcyBBbmltYXRpb24gbGlicmFyeSBmb3IgdXNlIGV4cG9ydHMgYXMgd2luZG93LkNBVEFNQVJBTi51aS5BbmltYXRpb24gZm9yIHVzZS5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IFxuICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBcbiAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgXG4gICAgICAgICAgICB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gMTtcbiAgICAgICAgICAgIHRoaXMudGltZXJzID0gW107XG4gICAgfVxuXG4gICAgc3RvcCgpe1xuICAgICAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGhhbmRsZUFuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKCBhbmltYXRpbmcgKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RBbmltYXRpb25GcmFtZSggaGFuZGxlQW5pbWF0aW9uICk7XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRpY2soKXtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCArPSAxO1xuICAgIH1cblxuICAgIHRpbWVyKCB0aW1lciApIHtcbiAgICAgICAgaWYgKCB0aW1lcigpICYmIHRoaXMudGltZXJzLnB1c2goIHRpbWVyICkgJiYgIXRoaXMuYW5pbWF0aW5nICkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgaGFuZGxlQW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGxpbmVhckVhc2UoY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZUluUXVhZChjdXJyZW50SXRlcmF0aW9uLCBzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCB0b3RhbEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgKiAoY3VycmVudEl0ZXJhdGlvbiAvPSB0b3RhbEl0ZXJhdGlvbnMpICogY3VycmVudEl0ZXJhdGlvbiArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZU91dFF1YWQoY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiAtY2hhbmdlSW5WYWx1ZSAqIChjdXJyZW50SXRlcmF0aW9uIC89IHRvdGFsSXRlcmF0aW9ucykgKiAoY3VycmVudEl0ZXJhdGlvbiAtIDIpICsgc3RhcnRWYWx1ZTtcbiAgICB9XG5cbiAgICBlYXNlSW5PdXRRdWFkKGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICBpZiAoKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiBjdXJyZW50SXRlcmF0aW9uICogY3VycmVudEl0ZXJhdGlvbiArIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC1jaGFuZ2VJblZhbHVlIC8gMiAqICgoLS1jdXJyZW50SXRlcmF0aW9uKSAqIChjdXJyZW50SXRlcmF0aW9uIC0gMikgLSAxKSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZUluQ3ViaWMoY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogTWF0aC5wb3coY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucywgMykgKyBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGVhc2VPdXRDdWJpYyhjdXJyZW50SXRlcmF0aW9uLCBzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCB0b3RhbEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgKiAoTWF0aC5wb3coY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyAtIDEsIDMpICsgMSkgKyBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGVhc2VJbk91dEN1YmljKGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICBpZiAoKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiBNYXRoLnBvdyhjdXJyZW50SXRlcmF0aW9uLCAzKSArIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgLyAyICogKE1hdGgucG93KGN1cnJlbnRJdGVyYXRpb24gLSAyLCAzKSArIDIpICsgc3RhcnRWYWx1ZTtcbiAgICB9XG5cbiAgICBlYXNlSW5RdWFydChjdXJyZW50SXRlcmF0aW9uLCBzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCB0b3RhbEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgKiBNYXRoLnBvdyhjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zLCA0KSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZU91dFF1YXJ0KGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICByZXR1cm4gLWNoYW5nZUluVmFsdWUgKiAoTWF0aC5wb3coY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyAtIDEsIDQpIC0gMSkgKyBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGVhc2VJbk91dFF1YXJ0KGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICBpZiAoKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiBNYXRoLnBvdyhjdXJyZW50SXRlcmF0aW9uLCA0KSArIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC1jaGFuZ2VJblZhbHVlIC8gMiAqIChNYXRoLnBvdyhjdXJyZW50SXRlcmF0aW9uIC0gMiwgNCkgLSAyKSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZUluUXVpbnQoY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogTWF0aC5wb3coY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucywgNSkgKyBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGVhc2VPdXRRdWludChjdXJyZW50SXRlcmF0aW9uLCBzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCB0b3RhbEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgKiAoTWF0aC5wb3coY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyAtIDEsIDUpICsgMSkgKyBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGVhc2VJbk91dFF1aW50KGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICBpZiAoKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiBNYXRoLnBvdyhjdXJyZW50SXRlcmF0aW9uLCA1KSArIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgLyAyICogKE1hdGgucG93KGN1cnJlbnRJdGVyYXRpb24gLSAyLCA1KSArIDIpICsgc3RhcnRWYWx1ZTtcbiAgICB9XG5cbiAgICBlYXNlSW5TaW5lKGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAqICgxIC0gTWF0aC5jb3MoY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyAqIChNYXRoLlBJIC8gMikpKSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZU91dFNpbmUoY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogTWF0aC5zaW4oY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyAqIChNYXRoLlBJIC8gMikpICsgc3RhcnRWYWx1ZTtcbiAgICB9XG5cbiAgICBlYXNlSW5PdXRTaW5lKGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiAoMSAtIE1hdGguY29zKE1hdGguUEkgKiBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zKSkgKyBzdGFydFZhbHVlO1xuICAgIH1cblxuICAgIGVhc2VJbkV4cG8oY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogTWF0aC5wb3coMiwgMTAgKiAoY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucyAtIDEpKSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZU91dEV4cG8oY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogKC1NYXRoLnBvdygyLCAtMTAgKiBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zKSArIDEpICsgc3RhcnRWYWx1ZTtcbiAgICB9XG5cbiAgICBlYXNlSW5PdXRFeHBvKGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICBpZiAoKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiBNYXRoLnBvdygyLCAxMCAqIChjdXJyZW50SXRlcmF0aW9uIC0gMSkpICsgc3RhcnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tY3VycmVudEl0ZXJhdGlvbikgKyAyKSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZUluQ2lyYyhjdXJyZW50SXRlcmF0aW9uLCBzdGFydFZhbHVlLCBjaGFuZ2VJblZhbHVlLCB0b3RhbEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgKiAoMSAtIE1hdGguc3FydCgxIC0gKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zKSAqIGN1cnJlbnRJdGVyYXRpb24pKSArIHN0YXJ0VmFsdWU7XG4gICAgfVxuXG4gICAgZWFzZU91dENpcmMoY3VycmVudEl0ZXJhdGlvbiwgc3RhcnRWYWx1ZSwgY2hhbmdlSW5WYWx1ZSwgdG90YWxJdGVyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VJblZhbHVlICogTWF0aC5zcXJ0KDEgLSAoY3VycmVudEl0ZXJhdGlvbiA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnMgLSAxKSAqIGN1cnJlbnRJdGVyYXRpb24pICsgc3RhcnRWYWx1ZTtcbiAgICB9XG5cbiAgICBlYXNlSW5PdXRDaXJjKGN1cnJlbnRJdGVyYXRpb24sIHN0YXJ0VmFsdWUsIGNoYW5nZUluVmFsdWUsIHRvdGFsSXRlcmF0aW9ucykge1xuICAgICAgICBpZiAoKGN1cnJlbnRJdGVyYXRpb24gLz0gdG90YWxJdGVyYXRpb25zIC8gMikgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlSW5WYWx1ZSAvIDIgKiAoMSAtIE1hdGguc3FydCgxIC0gY3VycmVudEl0ZXJhdGlvbiAqIGN1cnJlbnRJdGVyYXRpb24pKSArIHN0YXJ0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZUluVmFsdWUgLyAyICogKE1hdGguc3FydCgxIC0gKGN1cnJlbnRJdGVyYXRpb24gLT0gMikgKiBjdXJyZW50SXRlcmF0aW9uKSArIDEpICsgc3RhcnRWYWx1ZTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbWF0aW9uOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==